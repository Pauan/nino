<!DOCTYPE html>
<html>
  <body>
    <script src="literals.js"></script>
    <script src="compile.js"></script>
    <script>
      var scope = {}

      var a = NINO.op("unique", "a")
        , b = NINO.op("unique", "b")
        , c = NINO.op("unique", "c")

      function expr(a) {
        a.map(function (x) {
          return NINO.traverse(NINO.fromJSON(x), scope)
        }).forEach(function (x) {
          try {
            console.log(NINO.compile(x, scope, {
              type: "expression",
              minified: false,
              warnings: true
            }))
          } catch (e) {
            console.error(e.message)
          }
        })
      }

      var ret = ["function", [",", c],
                  [",", ["+", a, b, c],
                        ["return", ["+", a, b, c]]]]

      expr([
        "foo\\\"\n\t\b\v\f\r",

        ["&&", 1, 2, 3, 4],

        ["===", 1, 2, 3],

        ["===", 1, ["call", 2, 3], 4],

        ["===", ["call", 1, 2], 2, 3],

        ["===", ["call", 1, 2], ["call", 2, 3], 3],

        ["===", ["call", 1, 2], ["call", 2, 3], ["call", 3, 4]],

        ["===", ["call", 1, 2], ["call", 2, 3], ["call", 3, 4], ["call", 4, 5]],

        ["<", 1, 2, 3],

        ["<", ["call", 1, 2], 2, 3],

        ["<", ["call", 1, 2], ["call", 2, 3], 3],

        ["<", ["call", 1, 2], ["call", 2, 3], ["call", 3, 4]],

        ["<", ["call", 1, 2], ["call", 2, 3], ["call", 3, 4], ["call", 4, 5]],

        [",", ["+", 1, 2],
              ["function", [",", a, b],
                [",", ["return", ret]]]],

        [",", ["function", [",", a, b],
                [",", ["return", ret]]]],

        ["+", 1, 2, 3, 4, 5],

        ["+", 1, ["*", 2, 3]],

        ["*", 1, ["+", 2, 3]],

        ["+", ["-", 2, 3], 1],

        ["+", 1, ["-", 2, 3]],

        ["=", a, ["=", b, 1]],

        ["=", ["=", b, 1], a],

        ["+", ["=", a, 1], 2],

        ["typeof", ["function", [","],
                     ["+", ["=", a, 1], 2]]],

        ["+", ["+", 1]],

        ["-", ["-", 1]],

        ["+", ["!", 1]],

        ["+", ["-", 1]],

        ["!", ["!", 1]],

        ["typeof", ["typeof", 1]],

        [","],

        [",", 1],


        ["<", 1, ["if", 2, 3, 4]],

        ["if"],

        ["if", 1],

        ["if", 1, 2],

        ["if", 1, [",", 2, 3]],

        ["if", 1, 2, 3],

        ["if", 1, 2, 3, 4],

        ["if", 1, 2, 3, 4, 5],

        ["if", 1, 2, 3, 4, 5, 6],

        ["if", 1, ["function", [","], 2], ["function", [","], 3]],

        ["if", 1, 2.5, [",", 3, 3.5]],

        ["if", 1, [",", 2, 5, 2.5], 3.5],

        ["if", 1, [",", 2, 5, 2.5], [",", 3, 3.5]],

        ["if", ["+", a, 1], 2, 3],

        ["if", ["=", a, 1], 2, 3],


        [",", ["if", 1, 2, 3], 4],

        [",", ["if", 1, [",", 2, 3], 5], 4],

        [",", ["if", 1, 3, [",", 4, 5]], 4],

        [",", ["if", 1, [",", 2, 3]], 4],

        [",", ["if", 1, [",", 2, 3], [",", 4, 5]], 4],


        ["+", 1, ["if", 1, 2]],

        ["||", 1, ["if", 1, 2]],

        ["+", ["if", 1, 2, 3], 4],

        ["+", 4, ["if", 1, 2, 3]],

        ["function", [","],
          ["if", 1, 2, 3]],

        ["function", [","],
          ["if", ["var", ["=", a, 1]], ["var", ["=", b, 2]], ["var", ["=", c, 3]]]],

        [",", ["var", ["=", a, 1]], ["var", ["=", b, 2]]],


        ["while", 1, 2],

        ["while", 1, ["var", ["=", a, ["break", 1]]]],

        ["while", 1, ["var", ["=", a, 2]]],


        [",", ["function", [","], 1]],

        ["function", [","],
          ["+", 1, ["return", 2]]],

        ["function", [","],
          ["+", ["call", 1, 2], ["call", 2, 3], ["return", 2], ["call", 3, 4]]],

        ["function", [","],
          ["function", [","], 3]],

        ["++", ["++", 1]],

        ["call", ["+", 1, 2], ["+", 2, 3]],

        ["call", ["function", [","], 1], 2],

        ["+", 1, ["var", a]],

        [",", ["var", ["=", a, 1]], 2],

        ["+", 1, ["var", ["=", a, 2]]],

        ["+", 1, ["var", ["=", a, 2], ["=", b, 3]]],

        ["+", 1, ["var", ["=", a, [",", ["var", b], 2, 3]]]],

        [",", ["call", 3, 4], ["debugger"], ["call", 1, 2]],

        [",", ["call", 3, 4], ["throw"], ["call", 1, 2]],

        [",", ["+", 0, ["=", a, 1]], ["=", b, 2], 3, 4, 5],

        ["+", 1, ["var", ["=", a, 2], ["=", b, 3], c]],

        ["function", [","],
          ["=", [",", 1, 2, 3], [",", 4, 5, 6]]],

        ["function", [","],
          ["+", [",", 1, 2, 3], [",", 4, 5, 6]]],

        ["function", [","],
          ["+", [",", 1, 2, 3]]],


        ["var", ["=", c, 5],
                ["=", a, 10],
                ["=", a, ["function", [","], ["return", 3]]],
                ["=", c, 5],
                ["=", b, ["function", [","], ["return", 4]]]],

        ["var", ["=", c, ["call", 5, 10]],
                ["=", a, ["delete", 10]],
                ["=", a, ["function", [","], ["return", 3]]],
                ["=", c, ["+", 5, 20]],
                ["=", b, ["function", [","], ["return", 4]]]],

        ["var", ["=", a, 5],
                ["=", a, 10],
                ["=", a, ["function", [","], ["return", 3]]],
                ["=", b, 5],
                ["=", b, ["function", [","], ["return", 4]]]],

        ["function", [","],
          ["var", ["=", c, 5],
                  ["=", a, 10],
                  ["=", a, ["function", [","], ["return", 3]]],
                  ["=", c, 5],
                  ["=", b, ["function", [","], ["return", 4]]]]],

        ["function", [","],
          [",", a,
                ["var", ["=", a, 10]]]],

        ["var", ["=", a, ["function", [","], ["return", ["unique", "d"]]]]],

        [",", ["var", a],
              ["=", a, ["function", [","], ["return", ["unique", "d"]]]]],

        ["function-var", a, [","], ["return", ["unique", "d"]]],

        ["try", 1, ["catch", a, 2], ["finally", 3]],

        ["try", 1, ["catch", a, [",", 2, 3]], ["finally", [",", 3, 4]]],

        ["function", [","],
          ["try", 1, ["catch", a, 2], ["finally", 3]]],

        ["function", [","],
          ["return", ["try", 1, ["catch", a, 2], ["finally", 3]]]],

        ["while", 1, ["=", a, ["break"]]],

        ["var", ["=", a, [",", 1, 2, 3]]],

        ["var", b, c, ["=", a, [",", b, c, 1, 2, 3]], ["=", c, [",", 4, 5, 6]]],

        ["if", [",", 1, 2, 3], 4, 5],

        [".", a, b],

        [".", [",", a, b], c],

        [".", a, "b"],

        [".", a, "b^test aha"],

        ["new", ["function", [","], 1], 2, 3, 4],

        ["call", [",", a, b], 1, 2, 3],

        ["new", [",", a, b], 1, 2, 3],

        ["new", a, 1, 2, 3],

        ["new", a, [",", 1, 2], 3],

        ["for", 1, 2, 3, 4],

        ["for", 1, 2, 3, [",", 4, 5, 6]],

        ["for", ["var", ["=", a, 1], ["=", b, 2]],
                ["<", a, 10],
                ["++", a],
          [",", 4, 5, 6]],

        ["for", [",", ["var", ["=", a, 1]], ["=", b, 2]],
                ["<", a, 10],
                ["++", a],
          [",", 4, 5, 6]],

        [",", ["var", ["=", a, 1]], ["=", b, 2]],

        ["for-in", 1, 2, 3],

        ["for-in", ["var", ["=", a, 1]], 2, 3],

        ["for-in", ["var", a], 2, 3],

        ["for-in", ["var", a], [",", 2, 3, 4], 5],

        ["for-in", ["var", a], 2, [",", 3, 4, 5]],

        ["for-in", ["var", a, b], 2, 3],

        ["for-in", [",", ["=", b, 1], ["var", a]], 2, 3],

        ["for-in", [",", ["=", b, 1], a], 2, 3],

        ["array", 1, 2, 3, 4, 5],

        ["array", 1, [",", 2, 3], 4, 5],

        ["+", 3, ["object", "a", 1, "b", 2]],

        ["+", ["object", "a", 1, "b", 2], 3],

        ["object", "a", 1, "b", 2],

        ["object", "a", 1, "b", 2],

        ["object", "a", ["function", [","], 1], "b", 2],

        ["object", "a", [",", 1, 2], "b", 3],

        ["object", "a", ["object", "b", 2], "c", 3],

        ["object", "a^test aha", 1, "b", 2],

        ["+", a, b],

        ["+", ["symbol", "hiya"], ["symbol", "a"]],

        ["+", ["unique", "a"], ["unique", "b"]],

        (function () {
          var a = NINO.op("unique", "a")
          return ["function", [",", a],
                   ["+", a, ["symbol", "a"]]]
        })(),

        ["function", [",", ["symbol", "b"]],
          ["+", ["unique", "b"], ["symbol", "b"]]],

        ["function", [",", ["symbol", "a"]],
          ["return", ["function", [",", ["symbol", "b"]],
                       ["+", ["symbol", "a"], ["symbol", "b"]]]]],

        ["function", [","],
          [",", ["try", 1,
                  ["catch", ["symbol", "TEST"],
                    ["var", ["=", ["symbol", "yes"], 5]]]],
                ["+", ["unique", "yes"], ["unique", "TEST"]]]],

        ["function", [","],
          [",", ["try", 1,
                  ["catch", ["symbol", "TEST"],
                    ["unique", "TEST"]]],
                ["unique", "TEST"]]],

        ["+", ["unique", "b"], 1],

        ["function-var", ["symbol", "foo"], [","],
          ["return", 1]],

        ["+", ["unique", "foo"], 1],

        ["symbol", "50fooBar-qux"],
        ["symbol", "break"],
        ["symbol", "NaN"],
        ["unique", "arguments"],
        ["symbol", "_arguments"],
        ["symbol", "_"],

        [",", ["bypass", "var YESNOTESTINGHAHAHA = 5"],
              ["+", 5, 20]],

        ["+", 1, ["var", ["=", ["symbol", "a"], 2]]],

        ["function", [","],
          [",", ["return", 1], 2]],

        ["function", [","],
          ["return", ["if", 1, 2, 3]]],

        ["function", [","],
          ["return", ["if", ["return", 1], 2, 3]]],

        ["function", [","],
          ["return", ["if", 1, ["return", 2]]]],

        ["function", [","],
          ["return", ["if", 1, ["return", 2], ["return", 3]]]],

        ["function", [","],
          ["return", ["if", 1, ["try", 2, ["finally", 3]], 4]]],

        ["function", [","],
          ["if", 1, 2]],

        ["function", [","],
          ["if", 1, 2, 3]],

        ["function", [","],
          ["if", 1, ["throw", 2], ["throw", 3]]],

        ["function", [","],
          ["if", 1, ["throw", 2]]],

        ["function", [","],
          ["if", 1, ["try", 2, ["finally", 3]], 4]],

        ["call", ["call", 1, 2], ["try", 3, ["finally", 4]], ["call", 5, 6]],


        ["+", ["call", 1, 2], ["throw", 3]],
        ["+", ["call", 1, 2], ["debugger"]],
        ["+", ["call", 1, 2], ["try", 3, ["finally", 4]], ["throw", 3]],
        ["+", ["call", 1, 2], ["try", 3, ["finally", 4]]],
        ["+", ["call", 1, 2], ["while", 3, 4]],
        ["+", ["call", 1, 2], ["var", ["=", ["symbol", "a"], ["call", 3, 4]]]],

        ["+", ["call", 1, 2], ["var", ["=", ["symbol", "a"], ["function", [","], ["return", 3]]]]],

        ["+", ["call", ["symbol", "a"]],
              ["var", ["=", ["symbol", "a"], 3]]],

        ["+", ["+", ["call", ["symbol", "b"]], 2],
              ["var", ["=", ["symbol", "a"], ["call", 3, 4]]]],

        ["+", ["symbol", "a"],
              ["var", ["=", ["symbol", "a"], 3]]],

        ["+", ["+", ["symbol", "a"], 2],
              ["var", ["=", ["symbol", "a"], 3]]],

        ["+", ["symbol", "b"],
              ["var", ["=", ["symbol", "a"], 3]]],


        ["=", a, ["=", b, ["=", c, 1]]],
        ["=", a, b, c, 1],

        ["line-comment", "foobarquxcorge"],
        ["block-comment", "testing*/\ntesting\ntesting"],
        ["doc-comment", "testing*/\ntesting\ntesting"],

        [",", ["block-comment", "testing*/\ntesting\ntesting"],
              ["call", 1, 2]],

        ["function", [","],
          [",", ["block-comment", "documentation goes here"],
                ["line-comment", "documentation goes here"],
                ["return", 2]]],
      ])

      /*expr(["switch", 1,
             ["case", 0, 2],
             ["fallthru", 0, 5],
             ["case", 0, 3],
             ["default", 4]])

      expr(["switch", 1,
             ["case", 0, [",", 2, 3]],
             ["fallthru", 0, 5],
             ["case", 0, [",", 3, 4]],
             ["default", 4]])

      expr(["function", [","],
             ["switch", 1,
               ["case", 0, [",", 2, 3]],
               ["fallthru", 0, 5],
               ["case", 0, [",", 3, 4]],
               ["default", 4]]])*/
    </script>
  </body>
</html>
